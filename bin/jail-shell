#!/bin/sh
#
# Copyright (C) 2017 Ruilin Peng (Nick) <pymumu@gmail.com>
#
showhelp()
{
	echo "Usage: jail-shell [OPTION]"
	echo "Options:"
	echo "  -a | --add      add a user to jialed-shell."
	echo "  -d | --del      del a user from jail-shell."
	echo "  -n | --name     jail-shell name."
	echo "  -c | --config   config file."
	echo "  --disable       disable jail-shell feature."
	echo "  --enable        enable jail-shell feature."
	echo "example:"
	echo "  add user:  jail-shell -a user -n \"default\" -c default.cfg"
	echo "  del user:  jail-shell -d user"
}

main()
{
	OPTS=`getopt -o h --long help \
		-n  "" -- "$@"`

	if [ $? != 0 ] ; then echo "Terminating..." >&2 ; exit 1 ; fi

	# Note the quotes around `$TEMP': they are essential!
	eval set -- "$OPTS"

	while true; do
		case "$1" in
		-h | --help )
			showhelp
			return 0
			shift ;;
		-- ) shift; break ;;
		* ) break ;;
  		esac
	done
}

main $@
exit $?
